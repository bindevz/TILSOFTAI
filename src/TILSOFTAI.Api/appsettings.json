{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*",
  "ConnectionStrings": {
    "SqlServer": "Server=...;Database=...;User Id=...;Password=${SQL_PASSWORD};TrustServerCertificate=True"
  },
  "Llm": {
    "Endpoint": "http://192.168.8.247:6688",
    "Model": "TILSOFT-AI",
    "TimeoutSeconds": 300
  },
  "Chat": {
    "MaxToolSteps": 8,
    "MaxPromptTokensEstimate": 8000,
    "MaxToolResultBytes": 16000,
    "TrimPolicy": "drop_tools_first",
    "CompactionLimits": {
      "MaxDepth": 6,
      "MaxArrayElements": 20,
      "MaxStringLength": 500
    }
  },
  "Sql": {
    "ConnectionStringName": "SqlServer",
    "CommandTimeoutSeconds": 180
  },
  "Redis": {
    "Enabled": true,
    "ConnectionString": "${REDIS_CONNECTION}",
    "DatasetTtlMinutes": 60
  },
  "Api": {
    "RateLimit": {
      "RequestsPerMinute": 120,
      "BlockDurationSeconds": 30
    }
  },
  "Orchestration": {
    "ToolAllowlist": [
      "atomic.catalog.search",
      "atomic.graph.search",
      "atomic.graph.get",
      "atomic.doc.search",
      "atomic.query.execute",
      "analytics.run"
    ],
    "StrictMode": {
      "ResponseSchemaValidationEnabled": true,
      "ValidateAllKindsWithSchema": false,
      "FailOnMissingSchemaForEnforcedKinds": true
    },
    "AtomicQueryLimits": {
      "MaxRowsPerTable": 20000,
      "MaxRowsSummary": 500,
      "MaxSchemaRows": 50000,
      "MaxTables": 20,
      "MaxColumns": 100,
      "MaxDisplayRows": 2000,
      "PreviewRows": 100
    }
  },
  "AnalyticsEngine": {
    "MaxJoinRows": 100000,
    "MaxJoinMatchesPerLeft": 50,
    "MaxGroups": 200,
    "MaxResultRows": 500,
    "PreviewRowLimit": 20,
    "JoinKeyOptions": {
      "StringComparison": "Ordinal",
      "NumericStringCoercion": "None",
      "DateNormalization": "UtcTicks"
    }
  },
  "Localization": {
    "DefaultCulture": "en",
    "SupportedCultures": [
      "en",
      "vi"
    ]
  },
  "Embeddings": {
    "Enabled": true,
    "Endpoint": "http://192.168.8.247:6688",
    "Model": "text-embedding-3-small",
    "TimeoutSeconds": 120,
    "Dimensions": 1536
  },
  "DocumentSearch": {
    "Enabled": true,
    "SearchSpName": "dbo.TILSOFTAI_sp_DocChunk_Search",
    "MaxTopK": 8
  }
}
